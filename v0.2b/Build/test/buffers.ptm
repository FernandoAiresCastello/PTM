TITLE "PTM - Testing Tilebuffers"
WINDOW 360, 200, 4, 1

CHR 1, "1111111110000001101001011000000110100101100110011000000111111111"

PAL 2, &hff0000
PAL 3, &h00ff00
PAL 4, &h0000ff

BUF.NEW "buf_1", 1, 20, 20
BUF.VIEW "buf_1", 10, 10, 100, 100
BUF.BCOL "buf_1", 4
BUF.SHOW "buf_1"
BUF.SEL "buf_1"

LOCATE 0, 0
TILE.NEW 1, 2, 3
TILE.ADD 1, 3, 2
PUT
LOCATE 1, 0
TILE.NEW 1, 3, 2
PUT
LOCATE 0, 1
TILE.NEW 1, 3, 2
PUT
LOCATE 11, 11
TILE.NEW 1, 2, 3
PUT

loop:
	IF.KEY "RIGHT"
		BUF.SCRL "buf_1", 1, 0
	ENDIF
	IF.KEY "LEFT"
		BUF.SCRL "buf_1", -1, 0
	ENDIF
	IF.KEY "UP"
		BUF.SCRL "buf_1", 0, -1
	ENDIF
	IF.KEY "DOWN"
		BUF.SCRL "buf_1", 0, 1
	ENDIF
	UPDATE
	GOTO loop
