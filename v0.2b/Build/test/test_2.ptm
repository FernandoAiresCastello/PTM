WINDOW 360, 200, 4, 1

CHR 1, "1111111110000001101001011000000110100101100110011000000111111111"

PAL 2, &hff0000
PAL 3, &h00ff00
PAL 4, &h0000ff
PAL 5, &h00ffff
PAL 6, &hff00ff
PAL 7, &hffff00

BUF.NEW buf_1, 1, 20, 20
BUF.VIEW buf_1, 10, 10, 100, 100
BUF.BCOL buf_1, 4
BUF.SHOW buf_1

BUF.NEW buf_2, 1, 20, 20
BUF.VIEW buf_2, 110, 10, 210, 100
BUF.BCOL buf_2, 5
BUF.SHOW buf_2

FOR i, 0, 10
	VAR sprite_id, "smiley_"
	STR.CAT sprite_id, sprite_id, i
	SPR.NEW sprite_id, 1, 2, 3
	SPR.X sprite_id, 20
	SPR.Y sprite_id, 10
	SPR.POS sprite_id, 20, 10
	SPR.BUF sprite_id, buf_1
	SPR.HIDE sprite_id
	SPR.SHOW sprite_id
NEXT

loop:
	IF.KEY "RIGHT"
		SPR.MOVE "smiley", 1, 0
	ENDIF
	IF.KEY "LEFT"
		SPR.MOVE "smiley", -1, 0
	ENDIF
	IF.KEY "UP"
		SPR.MOVE "smiley", 0, -1
	ENDIF
	IF.KEY "DOWN"
		SPR.MOVE "smiley", 0, 1
	ENDIF
	UPDATE
	GOTO loop
